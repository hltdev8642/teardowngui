# Teardown UI Layout Designer

Visual editor to design Teardown immediate-mode UI layouts (for use inside a `draw()` callback) and export Lua code.

## Features (initial)
- 1920x1080 canvas representing safe area (uses UiSafeMargins logic)
- Add elements: Text, Rect, RoundedRect, Image, Button, Slider, Group (container)
- Drag to position, resize basic primitives
- Property inspector (position, size, colors, text, alignment, font size, image path, slider range, variable binding)
- Event bindings: onPress (Button), onChange (Slider)
- Code generator outputs:
  - Local state table + variable declarations
  - Helper functions for bound events (stubs)
  - `draw()` body with ordered Ui* calls mirroring layout tree
  - Emits `UiPush/UiPop`, `UiTranslate`, `UiAlign`, `UiFont`, `UiColor`, etc.

## Roadmap
- Snap / guides & alignment tools
- Multi-select, duplicate, z-order
- Persist project JSON and re-open
- Lua -> internal model import (partial)
- Advanced widgets (ImageBox, Navigation components, modals, frame measuring, dynamic lists)
- Registry variable binding helpers (Get/Set calls)

## Generated Lua Structure
```
-- Auto-generated by Teardown UI Layout Designer
local state = state or {}

function init()
    -- user init additions here
end

-- User variable/function stubs
-- function onMyButtonPress() end
-- function onVolumeSliderChange(val) end

function draw()
    UiPush()
        -- safe area window
        local x0,y0,x1,y1 = UiSafeMargins(); UiTranslate(x0,y0); UiWindow(x1-x0,y1-y0)
        -- ... generated element code ...
    UiPop()
end
```
Event bindings:
```
if UiTextButton("Play") then onPlayPress() end
sliderVal, sliderDone = UiSlider("dot.png","x", sliderVal,0,100); if sliderDone then onSliderChange(sliderVal) end
```
Variables using registry (optional future): choose binding type: local / registry (Get/Set wrappers).

## Development
```
npm install
npm run dev
```

## Build
```
npm run build
```

## Exporting Code
Use the "Lua Code" panel, copy into your mod script (ensure calls only from `draw()`). Place variable/function stubs above.

## Notes
Teardown UI is immediate: no retained layout. The generator outputs a deterministic sequence of calls each frame. For dynamic localization or runtime text, bind element's `text` to a variable name; the generator references that variable instead of a string literal.

## License
MIT
